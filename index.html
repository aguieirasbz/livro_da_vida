<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clube Infantil - Canais Infantis & Evangélicos</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg: #F6F8FF;
      --card: #FFFFFF;
      --accent: #FFB703;
      --accent-2: #8EC5FF;
      --text: #10375C;
    }
    body{
      font-family: 'Baloo 2', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: linear-gradient(180deg, #f8fcff 0%, var(--bg) 100%);
      color: var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    header{ background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
    .logo-box{ background: rgba(255,255,255,0.15); backdrop-filter: blur(4px); }
    .kid-card{ transition: transform .18s ease, box-shadow .18s ease; }
    .kid-card:hover{ transform: translateY(-6px); box-shadow: 0 12px 30px rgba(16,55,92,0.12); }
    .section-title{ font-size: 1.15rem; font-weight:700; color: #08324a; }
    .small-note{ font-size: .9rem; color: #214E66; }
    .open-btn{ background: linear-gradient(90deg,#2b9af3,#5ad6ff); }
    @media (min-width:1024px){ .main-grid{ grid-template-columns: 2fr 1fr; } }
  </style>
</head>

<body>
  <header class="py-5 shadow-md sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-4 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <div class="p-2 rounded-xl logo-box">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="24" height="24" rx="6" fill="#fff" opacity="0.06"/>
            <path d="M4 13c0-4 4-6 8-6s8 2 8 6v3H4v-3z" fill="#fff" opacity="0.9"/>
          </svg>
        </div>
        <div>
          <h1 class="text-2xl md:text-3xl font-bold text-white">Clube Infantil</h1>
          <div class="text-sm text-white/90">Canais Infantis e Evangélicos selecionados para a família</div>
        </div>
      </div>
      <div class="flex items-center gap-4">
        <a href="admin.html" class="text-sm text-white/90 underline decoration-white/40">Gerenciar canais</a>
        <div class="text-sm text-white/90">Supervisão parental recomendada • Conteúdo externo</div>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-8">
    <p class="mb-6 small-note max-w-3xl">Esta página traz uma seleção de canais do YouTube pensada para crianças: separei canais infantis (músicas, histórias e atividades) e canais evangélicos voltados para o público infantil. Sempre acompanhe o que as crianças assistem.</p>

    <div class="grid gap-8 main-grid">
      <!-- Área principal -->
      <section class="bg-white rounded-2xl shadow-sm p-5">
        <div id="panel" class="flex flex-col lg:flex-row gap-4 items-start">
          <div class="w-full lg:w-2/3">
            <div id="panel-art" class="h-56 bg-gradient-to-tr from-[#fff6e6] to-[#e6f7ff] rounded-xl flex items-center justify-center">
              <div id="panel-thumb" class="text-center px-6">
                <div id="panel-name" class="text-2xl font-bold">Selecione um canal</div>
                <div id="panel-desc" class="mt-2 text-sm text-gray-700">Clique em um dos cards à direita para abrir o canal no YouTube.</div>
              </div>
            </div>
          </div>

          <div class="w-full lg:w-1/3 flex flex-col gap-3">
            <div class="p-3 rounded-xl bg-gradient-to-r from-white to-white/40 border border-gray-100">
              <div id="panel-ch-name" class="font-semibold">Nenhum canal selecionado</div>
              <div id="panel-ch-actions" class="mt-3 flex gap-2">
                <a id="open-channel" class="open-btn text-white px-3 py-2 rounded-md text-sm shadow-sm" href="#" target="_blank" rel="noopener">Abrir canal</a>
                <button id="learn-more" class="px-3 py-2 rounded-md bg-gray-100 text-sm">Ver no YouTube</button>
              </div>
            </div>

            <div class="text-xs text-gray-500">Dica: use o botão "Abrir canal" para acessar o conteúdo no YouTube em nova aba. Sempre habilite o modo restrito se desejar.</div>
          </div>
        </div>
      </section>

      <!-- Lista de canais -->
      <aside>
        <div class="space-y-6">
          <div>
            <h2 class="section-title">Canais Infantis</h2>
            <div id="kids-grid" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
          </div>

          <div>
            <h2 class="section-title">Canais Evangélicos (Infantis)</h2>
            <div id="faith-grid" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <footer class="max-w-6xl mx-auto px-4 py-6 text-center text-sm text-gray-500">
    Conteúdo externo: todos os vídeos são hospedados no YouTube. Página criada para facilitar o acesso — supervisão parental recomendada.
  </footer>

  <script>
    // Lista simples (padrão). A página tentará ler canais salvos em localStorage (chave 'livro_da_vida_channels')
    const defaultChannels = [
      { category: 'infantil', name: 'Galinha Pintadinha', desc: 'Músicas e vídeos infantis animados' },
      { category: 'infantil', name: 'Mundo Bita', desc: 'Canal com músicas educativas e personagens' },
      { category: 'infantil', name: 'Turma da Mônica', desc: 'Histórias e músicas da Turma da Mônica' },
      { category: 'infantil', name: 'Peppa Pig Brasil', desc: 'Episódios e músicas da Peppa' },
      { category: 'evangelico', name: 'Canções Gospel Infantís', desc: 'Músicas cristãs para crianças (busca)' },
      { category: 'evangelico', name: 'Música Cristã Infantil', desc: 'Louvores e histórias bíblicas para crianças' },
      { category: 'evangelico', name: 'Histórias Bíblicas Infantis', desc: 'Narrativas bíblicas contadas para crianças' },
      { category: 'evangelico', name: 'Canal Infantil Cristão', desc: 'Canal com conteúdo cristão para pequenos' }
    ];

    function getStoredChannels(){
      try{
        const raw = localStorage.getItem('livro_da_vida_channels');
        if(!raw) return defaultChannels.slice();
        const parsed = JSON.parse(raw);
        if(!Array.isArray(parsed)) return defaultChannels.slice();
        return parsed;
      }catch(e){
        console.warn('Erro ao ler canais salvos:', e);
        return defaultChannels.slice();
      }
    }

    function placeholderThumb(text){
      const color = 'ffd166';
      const textColor = '08324a';
      return `https://via.placeholder.com/480x270/${color}/${textColor}?text=${encodeURIComponent(text)}`;
    }

    function openYouTubeSearch(query){
      const url = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}`;
      window.open(url, '_blank', 'noopener');
    }

    function createCard(channel){
      const card = document.createElement('div');
      card.className = 'kid-card p-3 bg-white rounded-xl shadow-sm flex items-center gap-3 cursor-pointer';
      card.innerHTML = `
        <img src="${placeholderThumb(channel.name)}" alt="${channel.name}" class="w-24 h-14 object-cover rounded-md flex-shrink-0" />
        <div>
          <div class="font-semibold">${channel.name}</div>
          <div class="text-xs text-gray-500">${channel.desc}</div>
        </div>`;

      card.addEventListener('click', () => {
        // Atualiza painel
        document.getElementById('panel-name').textContent = channel.name;
        document.getElementById('panel-desc').textContent = channel.desc;
        const openBtn = document.getElementById('open-channel');
        openBtn.href = `https://www.youtube.com/results?search_query=${encodeURIComponent(channel.name)}`;
        openBtn.textContent = 'Abrir canal';
      });

      return card;
    }

    function populate(){
      const kidsGrid = document.getElementById('kids-grid');
      const faithGrid = document.getElementById('faith-grid');
      kidsGrid.innerHTML = '';
      faithGrid.innerHTML = '';

      const channels = getStoredChannels();
      if(!channels || channels.length === 0){
        const msg = document.createElement('div');
        msg.className = 'text-sm text-gray-500';
        msg.textContent = 'Nenhum canal cadastrado. Use a página de gerenciamento para adicionar canais.';
        kidsGrid.appendChild(msg);
        return;
      }

      channels.forEach(ch => {
        const card = createCard(ch);
        if(ch.category === 'infantil') kidsGrid.appendChild(card);
        else faithGrid.appendChild(card);
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      populate();
      // adequação inicial do botão
      document.getElementById('open-channel').addEventListener('click', (e) => {
        const href = e.currentTarget.href;
        if(!href || href === '#') e.preventDefault();
      });
      document.getElementById('learn-more').addEventListener('click', () => {
        alert('Ao abrir o canal, você será levado ao YouTube. Lembre-se de acompanhar o conteúdo com uma conta e modo restrito se desejar.');
      });
    });
  </script>
</body>
</html>
